{
  "kind": "build_request",
  "title": "Add TDEE & Macro Calculator",
  "projectName": "Spotter AI",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Create a TDEE (Total Daily Energy Expenditure) and macro calculator component in the frontend that calculates daily calories, protein, carbs, and fats based on user input including weight, height, age, gender, activity level, and fitness goal (weight loss, maintenance, muscle gain)",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-features"
        ],
        "quotes": [
          "TDEE & Macro Calculator: A tool to calculate daily calories, protein, carbs, and fats based on user goals"
        ]
      },
      "acceptanceCriteria": [
        "Calculator accepts user inputs for weight (kg), height (cm), age, gender, activity level (sedentary, lightly active, moderately active, very active, extremely active), and fitness goal",
        "Displays calculated TDEE in calories per day",
        "Shows recommended daily macros breakdown: protein (grams), carbs (grams), fats (grams)",
        "Includes explanation of calculations or formula used",
        "Results are displayed in a clear, readable format with visual distinction between calorie and macro values"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Integrate the TDEE calculator into the client dashboard as a new tab or section, accessible alongside existing features like workout plans and progress tracking",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-features"
        ]
      },
      "acceptanceCriteria": [
        "TDEE calculator is accessible from the client dashboard navigation",
        "Calculator tab/section follows existing UI patterns and styling",
        "Calculator is only visible to users with client role"
      ]
    }
  ],
  "constraints": [
    "Do not modify Internet Identity integration files",
    "Do not edit Shadcn UI component source files in frontend/src/components/ui",
    "Maintain single-actor architecture in backend",
    "Use existing PersonalizedTracker component patterns for calculation UI consistency"
  ],
  "nonGoals": [
    "Backend storage of TDEE calculation results",
    "Historical tracking of TDEE calculations over time",
    "Integration with diet plan generation based on TDEE results",
    "Mobile app or push notification functionality",
    "Integration with wearable devices or fitness trackers"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}